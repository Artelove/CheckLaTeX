
\chapter{Система верстки документов \TeX}

\section{Понятие систем набора текста}
Существует две основные концепции дизайна существующих систем набора текста. 

Первый тип -- \guillemotleftЧто вы показываете, то и получаете\guillemotright. Вы можете напрямую изменять шрифт и цвет, и вы можете сразу увидеть эффект. Преимущество этого типа системы набора текста в том, что новичкам легко начать работу, но недостатком является то, что с увеличением сложности энергия, затрачиваемая на стиль, очевидно, что основным представителем такого типа системы набора текста является программное обеспечение Microsoft Word \cite{18}. 

Вторая категория -- \guillemotleft Разделение стиля и содержания\guillemotright. Содержание написано обычным текстом на определенном \guillemotleft языке разметки\guillemotright, а стиль написан отдельно в других местах, чтобы авторы могли сосредоточиться на содержании, которое они пишут, не обращая при этом внимания на его внешний вид. Основными представителями этого типа систем верстки являются HTML, Markdown и \LaTeX \cite{19}.

В дополнение к концепции дизайна, система набора текста также отличается с точки зрения \guillemotleft в основном ориентирована на среду\guillemotright. Word и \LaTeX в основном предназначены для печатных материалов, которые являются основными средствами написания статей; в то время как HTML и Markdown в основном предназначены для веб-браузеров, и нет очевидного механизма подкачки, который больше подходит для написания веб-документов и блогов.



\section{История и определение системы \TeX}

\TeX \ -- это система набора текста,  \ разработанная Дональдом Кнутом в 1978 году. Ядро написано на языке Pascal и содержит большое количество команд набора текста. Поскольку он слишком стабилен, его ядро, по сути, до сих пор не претерпело каких-либо серьезных изменений, и все это переделывается.

Поскольку \TeX  \verb| |-- это система, нельзя просто сказать, что это \guillemotleftязык программирования\guillemotright \verb| | или \guillemotleft программа \guillemotright. Фактически, он состоит из языка набора текста, компилятора и некоторых связанных исполняемых программ. Написанный пользователем исходный файл \TeX, компилятор \TeX компилирует его в двоичный машинный код и сохраняет в файле dvi. Это можно сравнить с отношениями \  между языком C и компилятором языка C \cite{20}.

DVI, Device Independent, переводится как независимый от устройства. То, что \TeX действительно генерирует -- это на самом деле файл \verb|.dvi|, а не PDF. Этот формат файла создан человеком по имени Дэвид Р. Этот тип файла точно описывает стиль и координаты всех элементов страницы, и он абсолютно фиксирован и не может быть изменен, поэтому эффект, отображаемый любым устройством вывода (монитором, принтером и т. д.), которое его считывает, должен быть точно отображаться, как и задумано \cite{17}.

\section{Компилируемые виды пакетов \TeX}

\TeX \verb| |поддерживает макросы, поэтому разработчики могут объединить несколько низкоуровневых команд в новый макрос, чтобы получить высокоуровневые абстрактные функции и упростить их использование пользователями \cite{23}.

Для системы \TeX \verb| |макросы компилируются. Перед исходным файлом \verb|.tex| будет предварительно загружен файл формата, который содержит различные предопределенные макросы, вызываемые пользователем в исходном файле. Затем исходный файл компилируется. Таким образом, вы можете понимать формат файла как набор макросов C \cite{21}.

\begin{enumerate}
    \item  Обычный \TeX. Разработанный самим Дональдом Кнутом, он содержит только несколько очень простых макросов для обработки простого набора текста, который в настоящее время редко используется людьми.
    
    \item LaTex -- это формат, разработанный американцем Лесли Лэмпортом в 1980-х годах. Он относится к матрешке Plain TeX и обладает множеством мощных функций.
    
    \item LaTex2e, выпущенный в 1994 году -- последняя большая версия \LaTeX и наиболее широко используемый формат на сегодняшний день. Он был обновляется и по сегодняшний день. Фактически, то, что мы называем \guillemotleft LaTeX\guillemotright, теперь относится к версии 2e.
    
    \item AMSTeX / AMSLaTeX. Разработанный Американской математической ассоциацией, он также принадлежит Plain TeX matryoshka и реализовал множество продвинутых математических функций набора текста и рендеринга.
    
\end{enumerate}

Следует отметить, что файлы формата, такие как \LaTeX, представляют собой лишь комбинацию оригинальных команд \TeX, и, по сути, область их расширения все еще находится в системе \TeX: Объекты, упомянутые ниже, были изменены, расширены или даже переписаны для самого движка \TeX.

\LaTeX \verb| |-- это формат, который использует программу \TeX \verb| |в качестве механизма набора текста. Его можно грубо понять как уровень инкапсуляции \TeX. \guillemotleftФормат\guillemotright \verb| |определяет набор кода набора команд. \LaTeX \verb| |был разработан американским ученым-компьютерщиком Лесли. Лэмпортом (Leslie Lamport) в начале 1980-х годов, используя этот формат системной обработки, даже если пользователь не имеет знаний о наборе текста и программировании, он также может в полной мере использовать мощные функции, предоставляемые \TeX, без необходимости лично разрабатывать или корректировать один за другим во-первых, может использоваться во многих книгах \cite{22}.

Качественные статьи создаются в течение нескольких дней или даже часов. Это особенно заметно при создании сложных таблиц и математических формул.  Поэтому он очень подходит для создания высококачественных научно-технических, математических и физических документов для печати. Эта система также подходит для создания всех других типов документов, от простых писем до полных книг. Именно по этим причинам при написании статей в области науки и техники в основном обязательно использовать \LaTeX \verb| |вместо Word.

\section{Структура исходного кода \LaTeX}

Исходный код \LaTeX\verb| |состоит из текста, внутри которого выделяются команды с помощью знака косой черты \verb|\|. После чего следует название команды и его аргументы и опции. В качестве аргументов заключенных в фигурные скобки \verb|{}| могут использоваться как зарезервированные слова, так и заданные пользователем значения, данная вариация зависит от конкретной команды и его значения выполнения. Опции заключаются в квадратные скобки \verb|[]| и имеют функцию дополнительных аргументов, обычно предопределенных той или иной функцией. Общий вид шаблона команды определяется следующим образом \verb|\command_name{args}[options]| \cite{24}. 

Команды имеют ключевое значения в форматировании документа в процессе компиляции. Именно с помощью их функциональности и выставления необходимых аргументов многократно ускоряется процесс создания документов по заданным стандартам. Под текстом, необходимым для вывода в документ воспринимается любой, что не является частью команды, за исключением команд с аргументами в виде текста или форматирующих команд. 

\subsection{Основы вестки кода в системе \LaTeX}
    Каждый документ верстаемый с помощью системы \LaTeX\verb| |начинается с команды \verb|\documentclаss|, который определяет общие настройки форматирования, параметров страниц текста, выделения и иных аспектов создания документов. В случае необходимости для большей части стандартных настроек имеется возможность редактирования под стилистику необходимую конкретному пользователю \cite{25}.

    Выделяются следующие типы аргументов для данной команды:

    \begin{enumerate}
        \item \verb|article| -- для подготовки статей для научных журналов, кратких отчетов, программной документации, любого вида краткого документа, который не нуждается в сложном разделении на главы и части;
        \item \verb| report| -- в общем виде напоминает длинную статью, которая может содержать несколько глав. Обычно он используется для небольших книг и дипломных работ;
        \item  \verb|book| -- используется для набора реальных книг. Включает в себя все виды стандартов набора текста, которые можно ожидать от печатной книги: главы и части, два вида страниц, титульный лист и т.д.;
        \item  \verb|letter| -- для написания писем.

    \end{enumerate}

    Следующей фундаментальной частью документа является блок определяющийся командами \verb|\begin{document}...\end{document}|. Данный блок содержит в себе весь текст и оформление создаваемого документа и передаваемого компилятору. после команды \verb|\end{document}| любое содержимое не будет представляется в виде текста в конечном документе и будет игнорироваться программой сборки. 

    Между вышеизложенных команд обычно вставляются команды, расширяющие функциональность \LaTeX, подключающие различные пакеты инструментов, определяющие, редактирующие, переопределяющие характеристики компилируемого текста или других команд. Для того, чтобы подключить тот или иной пакет следует вставить в код команду \verb|\usepackage{args}|, где в качестве переменной args определяются названия подключаемых пакетов или настройки параметров документа.

    Важная особенность документов, верстаемых с помощью данной системы, то, что любая команда \verb|\begin{...}| определяет своеобразный блок кода должен обязан быть завершен командой \verb|\end{...}|. \guillemotleftБлоки\guillemotright  могут содержать в себе иные блоки, но наложение блоков друг на друга вызовет ошибку в процессе компиляции (Листинг \ref{ls:00}).

    \begin{lstlisting}[language=Tex, caption={Данный порядок команд вызовает ошибку компиляции}, label={ls:00}]
        \begin{...1}
        \begin{...2}
        \end{...1}
        \end{...2}
    \end{lstlisting}

\subsection{Основные команды пакета \LaTeX}
    Рассмотрим и опишем основные окружения, которые используются в процессе верстки документов.
    
    \begin{enumerate}
        \item Окружение figure. Для размещения в тексте документа изображения обычно используется окружение figure вввиду ряда причин. Стоящий между \verb|\begin{figure}...\end{figure}| текст  размещается \LaTeX\verb| |в таком месте, где он данный текст или иллюстрация помещается целиком. Таким образом может случиться ситуация, когда окружение может оказаться позднее по тексту, относительно позиции в исходном коде. Именно поэтому окружение figure называют еще \guillemotleft плавающая иллюстрация\guillemotright.

        \item Окружение equation печатает математическое выражение в одну строку. Если выражение слишком длинное и выходит за поля, то разбить это выражение можно в окружении multline. Разбиение производится командой новой строки \verb|\\|, при этом первая строка выравнивается по левому краю, последняя строка выравнивается по правому краю, а промежуточные строки (если имеются) выравниваются по центру.

        \item Окружение table. Данное окружение задается командами \verb|\begin{table}... \end{table}| и представлять данные в виде таблицы, которое даёт вам возможность оформить заголовок таблицы с помощью команды \verb|\caption{}| и поставить на таблицу ссылку с помощью привычной команды \verb|\label{}|.

        \item Окружение lstlisting. С помощью пакета lstlisting появляется возможность выделение исходного кода в \LaTeX. Пакет listings предлагает подсветку исходного кода для различных языков. Пакет listings предоставляет возможность получить подсветку исходного кода в \LaTeX. Он является простым в использовании, и для него имеется хорошая документация по использованию.
        
    \end{enumerate}
