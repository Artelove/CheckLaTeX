\documentclass{article}
\usepackage[utf8]{inputenc}
\usepackage[russian]{babel}
\usepackage{amsmath}

\begin{document}

% Тест 1: Обычные кавычки в тексте (должны выдавать предупреждения)
Это "неправильные кавычки" в тексте.
А это 'тоже неправильные кавычки'.

% Тест 2: Математические штрихи в inline math (НЕ должны выдавать предупреждения)
\item Избиратель убирает шифрование, получая \(c''=g(f(m))*f^{-1}=g(m)\).

item Валидатор вслепую подписывает сообщение c функцией $g$, получая \(c'=g(c)=g(f(m))\).

% Тест 3: Математические штрихи в display math (НЕ должны выдавать предупреждения)
\begin{equation}\label{eq:modEx}
s \equiv s' * r^{-1} \mod{p} \equiv m^d \mod{p}
\end{equation}

% Тест 4: Математические штрихи в других math environments
\begin{align}
x' &= f(x) \\
y'' &= g'(x) + h''(x)
\end{align}

% Тест 5: Функции с штрихами
Производная функции $f'(x)$ и вторая производная $f''(x)$.

% Тест 6: Комбинированный случай
Функция $g'(x)$ имеет производную, но "эти кавычки" неправильные.

% Тест 7: Различные математические окружения
\[
s' = r \cdot m^d \mod p
\]

\begin{gather}
a' = b + c \\
d'' = e' \cdot f'
\end{gather}

% Тест 8: Обычные кавычки после математики (должны выдавать предупреждения)
После формулы $x'$ идет текст с "неправильными кавычками".

\end{document} 